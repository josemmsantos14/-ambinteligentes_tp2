version: "3.1"

stories:
  # conversa inicial para obtenção de dados
  - story: initial conversation
    steps:
      - intent: greet
      - action: utter_greet
      - action: utter_askname
      - intent: say_name
        entities:
        - name: Mariana
      - slot_was_set:
        - name: Mariana
      - action: utter_askage
      - intent: say_age
        entities:
        - age: '21'
      - slot_was_set:
        - age: '21'
      # pergunta se pode saber mais do utilizador
      - action: utter_askmoreinfo
      - intent: affirm
      # pergunta acerca de doenças psicológicas
      - action: utter_askconditions
      - checkpoint: checkpoint_askdisease

  # conversa adaptada à doença de ansiedade
  - story: anxiety adapted conversation
    steps:
      - checkpoint: checkpoint_askdisease
      - intent: disease_anxiety
      - action: utter_knowmore
      - checkpoint: knowmore
  - story: more about disease
    steps:
      - checkpoint: knowmore
      - intent: affirm
      - action: utter_moreaboutanxiety
      - action: utter_informsymptoms
      - checkpoint: ask_symptoms
  - story: yes symptoms
    steps:
      - checkpoint: ask_symptoms
      - intent: affirm
      - action: utter_anxietysymptoms
      - intent: affirm
      - action: utter_checkin
      - checkpoint: checkpoint_askmood
  - story: no symptoms
    steps:
      - checkpoint: ask_symptoms
      - intent: deny
      - action: utter_checkin
      - checkpoint: checkpoint_askmood
  - story: good mood
    steps:
      - checkpoint: checkpoint_askmood
      - intent: mood_great
      - action: utter_happy
  - story: bad mood
    steps:
      - checkpoint: checkpoint_askmood
      - intent: bad_mood_anxiety
        entities:
        - feeling: stressed
      - slot_was_set:
        - feeling: stressed
      - action: utter_badmood_anxiety
      - checkpoint: tell_more
  - story: tell more
    steps:
      - checkpoint: tell_more
      - intent: affirm
      - action: utter_tell_more
      ########### ver como introduzir intent "aleatório" ###########
      - intent: affirm
      - action: utter_understand_situation
      - action: utter_suggestions_anxiety
  - story: no tell more
    steps:
      - checkpoint: tell_more
      - intent: deny
      - action: utter_understand
      - action: utter_suggestions_anxiety


  # conversa adaptada à doença de bipolaridade
  - story: bipolar disorder adapted conversation
    steps:
      - checkpoint: checkpoint_askdisease
      - intent: disease_bipolar
      - action: utter_checkin

  # conversa adaptada à doença de depressão
  - story: depression adapted conversation
    steps:
      - checkpoint: checkpoint_askdisease
      - intent: disease_depression
      - action: utter_checkin
  
  # conversa adaptada a nenhuma das doenças diagnosticadas
  - story: no diagnosed disease
    steps:
      - checkpoint: checkpoint_askdisease
      - intent: disease_none
      - action: utter_checkin








      - action: utter_askmood
      - checkpoint: checkpoint_introduction

  - story: happy mood
    steps:
      - checkpoint: checkpoint_introduction
      - intent: mood_great
      - action: utter_happy

  - story: sad mood
    steps:
      - checkpoint: checkpoint_introduction
      - intent: mood_unhappy
      - action: utter_askunhappy
      - intent: reason_unhappy
      - action: utter_cheerup
      - intent: affirm
      - action: action_show_image

  - story: mental ilness info
    steps:
      - intent: info_diseases
      - action: utter_knowmore
      - checkpoint: disease_chosen

  - story: bipolar disorder
    steps:
      - checkpoint: disease_chosen
      - intent: disease_bipolar
      - action: utter_disease_bipolar
      - intent: info_symptoms
      - action: utter_bipolar_symptoms
      - intent: info_diagnosis
      - action: utter_bipolar_diagnosis
      - intent: info_treatment
      - action: utter_bipolar_treatment

  - story: interactive_story_1
    steps:
    - intent: greet
    - action: utter_greet
    - action: utter_askname
    - intent: say_name
      entities:
      - name: mariana
    - slot_was_set:
      - name: mariana
    - action: utter_askage
    - intent: say_age
      entities:
      - age: '21'
    - slot_was_set:
      - age: '21'
    - action: utter_askmoreinfo
    - intent: affirm
    - action: utter_askconditions
    - intent: disease_anxiety
    - action: utter_knowmore
    - intent: affirm
    - action: utter_moreaboutanxiety
    - action: utter_informsymptoms
    - intent: affirm
    - action: utter_anxietysymptoms
    - intent: affirm
    - action: utter_checkin
    - intent: bad_mood_anxiety
      entities:
      - feeling: stressed
    - slot_was_set:
      - feeling: stressed
    - action: utter_badmood_anxiety
    - intent: affirm
    - action: utter_tell_more
    - intent: affirm
    - action: utter_understand_situation
    - action: utter_suggestions_anxiety
